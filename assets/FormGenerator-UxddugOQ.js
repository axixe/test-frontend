import{d as c,m as _,g as v,c as o,a as t,h as b,w as h,t as i,v as w,b as p,_ as y,i as U,j as T,k as G,F as C,l as M,r as E,n as O,p as V,e as k,B as g,f as F,q as $,s as B,u as j,x as J,y as x,z,A as S}from"./index-DRZgWnDw.js";const A={class:"input"},H={key:0,class:"input__label"},L=["name","type","required","readonly","placeholder"],P=c({__name:"BaseInput",props:_({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const l=v(n,"modelValue");return(e,s)=>(t(),o("label",A,[e.field.label?(t(),o("span",H,i(e.field.label),1)):b("",!0),h(p("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),class:"input__element",name:e.field.name,type:e.field.type,required:e.field.required,readonly:e.field.readonly,placeholder:e.field.placeholder},null,8,L),[[w,l.value]])]))}}),q=y(P,[["__scopeId","data-v-042fe57f"]]),K={class:"checkbox"},Q=["name","required","readonly"],R={key:0,class:"checkbox__label"},W=c({__name:"BaseCheckbox",props:_({field:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const l=v(n,"modelValue");return(e,s)=>(t(),o("label",K,[h(p("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),class:"checkbox__element",name:e.field.name,type:"checkbox",required:e.field.required,readonly:e.field.readonly},null,8,Q),[[U,l.value]]),e.field.label?(t(),o("span",R,i(e.field.label),1)):b("",!0)]))}}),X={class:"textarea"},Y={key:0,class:"textarea__label"},Z=["name","required","readonly","placeholder"],ee=c({__name:"BaseTextarea",props:_({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const l=v(n,"modelValue");return(e,s)=>(t(),o("label",X,[e.field.label?(t(),o("span",Y,i(e.field.label),1)):b("",!0),h(p("textarea",{"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),class:"textarea__element",name:e.field.name,required:e.field.required,readonly:e.field.readonly,placeholder:e.field.placeholder},null,8,Z),[[T,l.value]])]))}}),ae=y(ee,[["__scopeId","data-v-c641690b"]]),le={class:"select"},se={key:0,class:"select__label"},te=["name","required"],oe=["value"],ne=c({__name:"BaseSelect",props:_({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const l=v(n,"modelValue");return(e,s)=>(t(),o("label",le,[e.field.label?(t(),o("span",se,i(e.field.label),1)):b("",!0),h(p("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),class:"select__element",name:e.field.name,required:e.field.required},[(t(!0),o(C,null,M(e.field.options,a=>(t(),o("option",{class:"select__option",value:a.value,key:a.value},i(a.label),9,oe))),128))],8,te),[[G,l.value]])]))}}),re=n=>({useFormSubmit:a=>{const m=n.getters["forms/getFormData"](a);localStorage.setItem(a,JSON.stringify({...m})),alert("Значения из стейта записаны")},useFormClear:a=>{n.dispatch("forms/clearForm",a),localStorage.removeItem(a),alert("Значения из стейта удалены")},useFormGetData:a=>{const m=localStorage.getItem(a);return m?JSON.parse(m):null}}),de={class:"form__control"},ue=c({__name:"FormGenerator",props:{settings:{},values:{},formType:{}},setup(n){const l=E({}),e=n,s=j(),{useFormClear:a}=re(s),m=r=>({text:q,password:q,checkbox:W,textarea:ae,select:ne})[r],D=()=>{var u;const r=(u=e.settings)==null?void 0:u.fields,d=e.values;!r||!d||Object.keys(d).length===0||r.forEach(f=>{e.values&&(l.value[f.name]=d[f.name])})},N=()=>{s.dispatch("forms/saveFormData",{formName:e.formType,data:l.value})},I=()=>{l.value={},a(e.formType)};return O(()=>e.values,r=>{r&&D()},{deep:!0}),(r,d)=>(t(),o("form",{onSubmit:V(N,["prevent"]),class:"form"},[(t(!0),o(C,null,M(r.settings.fields,u=>(t(),o("div",{key:u.name,class:"form__element"},[J(r.$slots,`field-${u.name}`,{},()=>[(t(),x(z(m(u.type)),{modelValue:l.value[u.name],"onUpdate:modelValue":f=>l.value[u.name]=f,field:u},null,8,["modelValue","onUpdate:modelValue","field"]))])]))),128)),p("div",de,[k(g,{class:"button--submit",type:F(B).submit},{default:$(()=>d[0]||(d[0]=[S("Подтвердить")])),_:1},8,["type"]),k(g,{class:"button--decline",type:F(B).default,onClick:V(I,["prevent"])},{default:$(()=>d[1]||(d[1]=[S("Отклонить")])),_:1},8,["type"])])],32))}}),ie=y(ue,[["__scopeId","data-v-231f027f"]]);export{ie as F,re as u};
